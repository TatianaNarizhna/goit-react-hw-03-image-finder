{"version":3,"sources":["components/Searchbar/Searchbar.js","services/apiService.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["SearchBar","state","searchName","handleSearchChange","e","setState","currentTarget","value","toLowerCase","handleFormSubmit","preventDefault","trim","toast","error","props","onSubmit","formReset","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","api","fetchSearch","search","fetch","then","response","ok","json","Promise","reject","Error","ImageGallery","hits","loader","prevProps","prevState","apiService","catch","finally","color","height","width","message","id","App","formSubmit","position","autoClose","newestOnTop","closeOnClick","rtl","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wSAGqBA,E,4MACnBC,MAAQ,CACNC,WAAY,I,EAYdC,mBAAqB,SAACC,GACpB,EAAKC,SAAS,CAAEH,WAAYE,EAAEE,cAAcC,MAAMC,iB,EAGpDC,iBAAmB,SAACL,GAGlB,GAFAA,EAAEM,iBAEmC,KAAjC,EAAKT,MAAMC,WAAWS,OACxB,OAAOC,IAAMC,MAAM,0BAErB,EAAKC,MAAMC,SAAS,EAAKd,MAAMC,YAE/B,EAAKc,a,EAGPA,UAAY,WACV,EAAKX,SAAS,CACZH,WAAY,M,4CAIhB,WACE,OACE,8BACE,wBAAQe,UAAU,YAAlB,SACE,uBAAMF,SAAUG,KAAKT,iBAAkBQ,UAAU,aAAjD,UACE,wBAAQE,KAAK,SAASF,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVE,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAAUL,KAAKf,gC,GAlDUqB,a,iBCQvC,IAIeC,EAJH,CACVC,YAZF,SAAqBC,GACnB,OAAOC,MAAM,8BAAD,OACoBD,EADpB,uGAEVE,MAAK,SAACC,GACN,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAO,IAAIC,MAAJ,kBAAqBR,EAArB,qBC+BXS,G,kNAhCbnC,MAAQ,CACNoC,KAAM,KACNC,QAAQ,EACRzB,MAAO,M,wDAGT,SAAmB0B,EAAWC,GAAY,IAAD,OACnCD,EAAUrC,aAAegB,KAAKJ,MAAMZ,aACtCgB,KAAKb,SAAS,CAAEiC,QAAQ,EAAMD,KAAM,OAEpCI,EACGf,YAAYR,KAAKJ,MAAMZ,YACvB2B,MAAK,gBAAGQ,EAAH,EAAGA,KAAH,OAAc,EAAKhC,SAAS,CAAEgC,YACnCK,OAAM,SAAC7B,GAAD,OAAW,EAAKR,SAAS,CAAEQ,aACjC8B,SAAQ,kBAAM,EAAKtC,SAAS,CAAEiC,QAAQ,U,oBAI7C,WACE,OACE,gCACGpB,KAAKjB,MAAMqC,QACV,cAAC,IAAD,CAAQnB,KAAK,YAAYyB,MAAM,UAAUC,OAAQ,GAAIC,MAAO,KAE7D5B,KAAKjB,MAAMY,OAAS,4BAAIK,KAAKjB,MAAMY,MAAMkC,UACzC7B,KAAKjB,MAAMoC,MAAQ,8BAAMnB,KAAKjB,MAAMoC,KAAK,GAAGW,Y,GA1B1BxB,cC2BZyB,E,4MAzBbhD,MAAQ,CACNC,WAAY,K,EAGdgD,WAAa,SAAChD,GACZ,EAAKG,SAAS,CAAEH,gB,4CAGlB,WACE,OACE,gCACE,cAAC,IAAD,CACEiD,SAAS,aACTC,UAAW,IACXC,aAAa,EACbC,cAAY,EACZC,KAAK,IAEP,cAAC,EAAD,CAAWxC,SAAUG,KAAKgC,aAC1B,cAAC,EAAD,CAAchD,WAAYgB,KAAKjB,MAAMC,oB,GApB3BsB,aCAlBgC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.45becc62.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\n\nexport default class SearchBar extends Component {\n  state = {\n    searchName: \"\",\n  };\n\n  // componentDidMount() {\n  // this.setState({ loader: true });\n\n  //  fetch('https://pixabay.com/api/?q=sea&page=1&key=21902781-05f70a6abac1a4120ac7c9ed1&image_type=photo&orientation=horizontal&per_page=12')\n  //  .then(response => response.json())\n  //  .then(({ hits }) => this.setState({ hits }))\n  //  .finally(() => this.setState({ loader: false }))\n  // }\n\n  handleSearchChange = (e) => {\n    this.setState({ searchName: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleFormSubmit = (e) => {\n    e.preventDefault();\n\n    if (this.state.searchName.trim() === \"\") {\n      return toast.error(\"Enter correct request!\");\n    }\n    this.props.onSubmit(this.state.searchName);\n    // this.setState({ searchName: \"\" })\n    this.formReset();\n  };\n\n  formReset = () => {\n    this.setState({\n      searchName: \"\",\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <header className=\"Searchbar\">\n          <form onSubmit={this.handleFormSubmit} className=\"SearchForm\">\n            <button type=\"submit\" className=\"SearchForm-button\">\n              <span className=\"SearchForm-button-label\">Search</span>\n            </button>\n\n            <input\n              className=\"SearchForm-input\"\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n              onChange={this.handleSearchChange}\n            />\n          </form>\n        </header>\n      </div>\n    );\n  }\n}\n","function fetchSearch(search) {\n  return fetch(\n    `https://pixabay.com/api/?q=${search}&page=1&key=21902781-05f70a6abac1a4120ac7c9ed1&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`Request ${search} not found`));\n  });\n}\n\nconst api = {\n  fetchSearch,\n};\n\nexport default api;\n","import React, { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport apiService from \"../../services/apiService\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nclass ImageGallery extends Component {\n  state = {\n    hits: null,\n    loader: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.searchName !== this.props.searchName) {\n      this.setState({ loader: true, hits: null });\n\n      apiService\n        .fetchSearch(this.props.searchName)\n        .then(({ hits }) => this.setState({ hits }))\n        .catch((error) => this.setState({ error }))\n        .finally(() => this.setState({ loader: false }));\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.loader && (\n          <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n        )}\n        {this.state.error && <p>{this.state.error.message}</p>}\n        {this.state.hits && <div>{this.state.hits[2].id}</div>}\n        {/* <p>{this.props.searchName}</p> */}\n      </div>\n    );\n  }\n}\n\nexport default ImageGallery;\n\n//  fetch(\n//   `https://pixabay.com/api/?q=${this.props.searchName}&page=1&key=21902781-05f70a6abac1a4120ac7c9ed1&image_type=photo&orientation=horizontal&per_page=12`\n// )\n// .then(response => {\n//   if(response.ok) {\n//     return response.json();\n//   }\n//       return Promise.reject(\n//      new Error(`Request ${this.props.searchName} not found`)\n//    )})\n//   .then(({ hits }) => this.setState({ hits }))\n//   .catch(error => this.setState({ error }))\n//   .finally(() => this.setState({ loader: false }));\n","import React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport SearchBar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\n\nclass App extends Component {\n  state = {\n    searchName: \" \",\n  };\n\n  formSubmit = (searchName) => {\n    this.setState({ searchName });\n  };\n\n  render() {\n    return (\n      <div>\n        <ToastContainer\n          position=\"top-center\"\n          autoClose={2000}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n        />\n        <SearchBar onSubmit={this.formSubmit} />\n        <ImageGallery searchName={this.state.searchName} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}