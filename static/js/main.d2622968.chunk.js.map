{"version":3,"sources":["services/apiService.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","static/default.jpg","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","App.js","index.js"],"names":["api","fetchSearch","search","page","fetch","then","response","ok","json","Promise","reject","Error","SearchBar","state","searchName","handleSearchChange","e","setState","currentTarget","value","toLowerCase","handleFormSubmit","preventDefault","trim","toast","error","props","onSubmit","formReset","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","GalleryItem","id","webformatURL","largeImageURL","src","alt","ImageGallery","images","onImgClick","onClick","map","ImageGalleryItem","defaultProps","defaultImg","Button","Modal","handleKeyPress","code","onClose","onOverlayClick","target","window","addEventListener","removeEventListener","modalImg","Spinner","color","height","width","App","loader","showModal","formSubmit","res","hits","prevState","length","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","toggleModal","nodeName","dataset","img","prevProps","Loader","message","position","autoClose","newestOnTop","closeOnClick","rtl","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d2622968.chunk.js","sourcesContent":["function fetchSearch(search, page) {\n  return fetch(\n    `https://pixabay.com/api/?q=${search}&page=${page}&key=21902781-05f70a6abac1a4120ac7c9ed1&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`Request ${search} not found`));\n  });\n}\n\nconst api = {\n  fetchSearch,\n};\n\nexport default api;\n\n// .then(response => response.data.hits)\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { toast } from \"react-toastify\";\n\nexport default class SearchBar extends Component {\n  state = {\n    searchName: \"\",\n  };\n\n  handleSearchChange = (e) => {\n    this.setState({ searchName: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleFormSubmit = (e) => {\n    e.preventDefault();\n\n    if (this.state.searchName.trim() === \"\") {\n      return toast.error(\"Enter correct request!\");\n    }\n    this.props.onSubmit(this.state.searchName);\n    // this.setState({ searchName: \"\" })\n    this.formReset();\n  };\n\n  formReset = () => {\n    this.setState({\n      searchName: \"\",\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <header className=\"Searchbar\">\n          <form onSubmit={this.handleFormSubmit} className=\"SearchForm\">\n            <button type=\"submit\" className=\"SearchForm-button\">\n              <span className=\"SearchForm-button-label\">Search</span>\n            </button>\n\n            <input\n              className=\"SearchForm-input\"\n              type=\"text\"\n              autoComplete=\"off\"\n              value={this.state.searchName}\n              autoFocus\n              placeholder=\"Search images and photos\"\n              onChange={this.handleSearchChange}\n            />\n          </form>\n        </header>\n      </div>\n    );\n  }\n}\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst GalleryItem = ({ id, webformatURL, largeImageURL }) => {\n  return (\n    <li className=\"ImageGalleryItem\" key={id}>\n      <img\n        src={webformatURL}\n        alt=\"img\"\n        className=\"ImageGalleryItem-image\"\n        data-img={largeImageURL}\n      />\n    </li>\n  );\n};\n\nGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n};\n\nexport default GalleryItem;\n","export default __webpack_public_path__ + \"static/media/default.2e01288c.jpg\";","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport defaultImg from \"../../static/default.jpg\";\n\nconst ImageGallery = ({ images, onImgClick }) => (\n  <ul className=\"ImageGallery\" onClick={onImgClick}>\n    {images.map(({ id, webformatURL, largeImageURL }) => (\n      <ImageGalleryItem\n        key={id}\n        webformatURL={webformatURL}\n        largeImageURL={largeImageURL}\n      />\n    ))}\n  </ul>\n);\n\nImageGallery.defaultProps = {\n  webformatURL: defaultImg,\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <div className=\"Absolute-Center \">\n      <button type=\"button\" className=\"Button\" onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyPress);\n  }\n\n  handleKeyPress = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  onOverlayClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"Overlay\" onClick={this.onOverlayClick}>\n        <div className=\"Modal\">\n          <img src={this.props.modalImg} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  modalImg: PropTypes.string.isRequired,\n};\n","import Loader from \"react-loader-spinner\";\n\nconst Spinner = () => {\n  return (\n    <div className=\"Spinner\">\n      <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n    </div>\n  );\n};\n\nexport default Spinner;\n","import React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\n// import Loader from \"react-loader-spinner\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport api from \"./services/apiService\";\nimport SearchBar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\nimport Modal from \"./components/Modal/Modal\";\nimport Loader from \"./components/Loader/Loader\";\n\nclass App extends Component {\n  state = {\n    searchName: \" \",\n    images: [],\n    page: 1,\n    loader: false,\n    error: null,\n    showModal: false,\n    modalImg: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchName !== this.state.searchName) {\n      this.fetchSearch();\n    }\n  }\n\n  formSubmit = (searchName) => {\n    this.setState({ searchName: searchName, page: 1, images: [] });\n  };\n\n  fetchSearch = () => {\n    const { searchName, page, images } = this.state;\n    this.setState({ loader: true });\n\n    api\n      .fetchSearch(searchName, page)\n      .then((res) => {\n        const { hits } = res;\n\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...hits],\n          page: prevState.page + 1,\n        }));\n        if (images.length > 12) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ loader: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onImgClick = (e) => {\n    if (e.target.nodeName !== \"IMG\") {\n      return;\n    }\n    this.setState({\n      modalImg: e.target.dataset.img,\n    });\n    this.toggleModal();\n  };\n\n  render() {\n    const { images, loader, showModal, modalImg } = this.state;\n    return (\n      <div>\n        {loader && <Loader />}\n        {this.state.error && <p>{this.state.error.message}</p>}\n\n        <ToastContainer\n          position=\"top-center\"\n          autoClose={2000}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n        />\n        <SearchBar onSubmit={this.formSubmit} />\n        <ImageGallery images={images} onImgClick={this.onImgClick} />\n\n        {images.length > 0 && !loader && <Button onClick={this.fetchSearch} />}\n        {showModal && <Modal modalImg={modalImg} onClose={this.toggleModal} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}